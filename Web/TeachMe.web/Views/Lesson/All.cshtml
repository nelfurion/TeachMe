@model TeachMe.Web.ViewModels.LessonViewModels.LessonsListViewModel

<div class="table-responsive">
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Subject</th>
                <th>Grade</th>
                <th>Author</th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Lessons.Count; i++)
            {
                var creator = Model.Lessons[i].Creator;
                //var creatorDisplayName = !string.IsNullOrWhiteSpace(creator.UserName) ? creator.UserName : creator.FirstName + creator.LastName;
                if (i % 2 != 0)
                {
                    <tr class="table-info">
                        <td>@Html.Raw(Model.Lessons[i].Name)</td>
                        <td>@Html.Raw(Model.Lessons[i].Subject.Name)</td>
                        <td>@Html.Raw(Model.Lessons[i].Grade)</td>
                        <td>@Html.Raw(creator.UserName)</td>
                    </tr>
                }
                else
                {
                    <tr>
                        <td>@Html.Raw(Model.Lessons[i].Name)</td>
                        <td>@Html.Raw(Model.Lessons[i].Subject.Name)</td>
                        <td>@Html.Raw(Model.Lessons[i].Grade)</td>
                        <td>@Html.Raw(creator.UserName)</td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>
<div class="row">
        @{
            //var search = Request.Params["search"];
            //var orderBy = Request.Params["orderBy"];

            var lastSkip = Request.Params["skip"] != null ? int.Parse(Request.Params["skip"]) : 0;
            var previousPageSkip = lastSkip - 1 > 0 ? lastSkip - 1 : 0;
            var nextPageSkip = lastSkip + 1 < Model.PagesCount ? lastSkip + 1 : lastSkip;


            @Html.ActionLink("<-", "All", new { /*search = search, orderBy = orderBy,*/ skip = previousPageSkip }, new { @class = "btn btn-info" });
            for (int i = 1; i <= Model.PagesCount; i++)
            {
               @Html.ActionLink(i.ToString(), "All", new { skip = i - 1 }, new { @class = "btn btn-info" })
            }

            @Html.ActionLink("->", "All", new { skip = nextPageSkip}, new { @class = "btn btn-info" });
        }
</div>

